# .gitignore Protection Guide

## âš ï¸ CRITICAL: Files That Should NEVER Be Committed

This repository has been configured with a comprehensive `.gitignore` to prevent accidentally committing large files, sensitive data, or unnecessary build artifacts.

### ğŸ”´ HIGH PRIORITY - DO NOT COMMIT

#### 1. **Model Weights Files** (LARGE - 40MB to 13GB each)
```
âœ— *.pt, *.pth, *.bin, *.safetensors
âœ— artistry-backend/segment/app/mobile_sam.pt (38 MB)
âœ— artistry-backend/detect/yolov8n.pt (auto-downloaded)
âœ— artistry-backend/advise/app/model-* (13GB+ LLaVA models)
âœ— artistry-backend/generate/app/* (Stable Diffusion models)
```

**Why:** These are multi-gigabyte model files that should be downloaded separately. Committing them will:
- Break GitHub (100MB file size limit)
- Make the repository huge and impossible to clone
- Waste bandwidth and storage

**Solution:** Models are auto-downloaded on first run or via download scripts.

#### 2. **Environment Files** (SENSITIVE DATA)
```
âœ— .env
âœ— frontend/.env
âœ— artistry-backend/*/.env
âœ— artistry-backend/gateway/.env
```

**Why:** These contain:
- API keys
- Database credentials
- Secret tokens
- Service URLs

**Solution:** Use `.env.example` templates and set up local `.env` files.

#### 3. **Virtual Environments** (LARGE)
```
âœ— venv/
âœ— artistry-backend/*/venv/
âœ— artistry-backend/advise/venv/ (~2GB)
âœ— artistry-backend/detect/venv/ (~1.5GB)
âœ— artistry-backend/segment/venv/ (~1GB)
âœ— artistry-backend/gateway/venv/ (~500MB)
âœ— artistry-backend/generate/venv/ (~2GB)
```

**Why:** Total ~7GB+ of Python packages. Each developer should create their own.

**Solution:** Run `python -m venv venv` and `pip install -r requirements.txt`

#### 4. **Node Modules** (LARGE)
```
âœ— node_modules/
âœ— frontend/node_modules/ (~200MB)
```

**Why:** Contains all npm dependencies.

**Solution:** Run `npm install` to recreate.

### ğŸŸ¡ MEDIUM PRIORITY - Should Not Commit

#### 5. **Cache Directories**
```
âœ— __pycache__/
âœ— .cache/
âœ— */.cache/
âœ— .next/
âœ— transformers_cache/
âœ— huggingface/
```

#### 6. **Build Artifacts**
```
âœ— frontend/.next/
âœ— frontend/out/
âœ— frontend/build/
âœ— *.pyc
```

#### 7. **IDE/Editor Files**
```
âœ— .vscode/
âœ— .idea/
âœ— *.iml
```

### âœ… What SHOULD Be Committed

```
âœ“ Source code (.py, .jsx, .tsx, .ts)
âœ“ Configuration files (vite.config.js, package.json, tsconfig.json)
âœ“ Requirements files (requirements.txt)
âœ“ Documentation (.md files)
âœ“ .env.example (templates without secrets)
âœ“ .gitignore (this protection)
âœ“ Scripts (start_services.ps1, etc.)
```

## ğŸ›¡ï¸ Current Protection Status

The `.gitignore` file has been configured to exclude:

1. âœ… All Python virtual environments (`venv/`)
2. âœ… All model weight files (`*.pt`, `*.bin`, `*.safetensors`)
3. âœ… All environment files (`.env`)
4. âœ… Node modules (`node_modules/`)
5. âœ… Python cache (`__pycache__/`)
6. âœ… Build outputs (`.next/`, `out/`)
7. âœ… Model cache directories (`.cache/`, `huggingface/`)
8. âœ… IDE files (`.vscode/`, `.idea/`)

## ğŸ“‹ Before Committing - Checklist

Before pushing to GitHub, verify:

```bash
# 1. Check git status
git status

# 2. Look for large files (should be empty)
git ls-files | ForEach-Object { if (Test-Path $_) { $size = (Get-Item $_).Length; if ($size -gt 10MB) { Write-Host "$_ - $([math]::Round($size/1MB, 2)) MB" } } }

# 3. Verify no .env files
git status | Select-String ".env"

# 4. Verify no model files
git status | Select-String "\.pt|\.bin|\.safetensors"

# 5. Verify no venv directories
git status | Select-String "venv"
```

## ğŸš¨ If You Accidentally Committed Large Files

If you've already committed large files:

```bash
# Remove file from git but keep locally
git rm --cached path/to/large/file.pt

# Update .gitignore (already done)

# Commit the removal
git commit -m "Remove large model files from tracking"

# If already pushed, you may need to use git-filter-branch or BFG Repo Cleaner
```

## ğŸ“¦ Model Download Instructions

Models should be downloaded separately:

### Segment Service (MobileSAM)
```powershell
cd artistry-backend\segment\app
Invoke-WebRequest -Uri "https://github.com/ChaoningZhang/MobileSAM/raw/master/weights/mobile_sam.pt" -OutFile "mobile_sam.pt"
```

### Detect Service (YOLOv8)
Auto-downloads on first run (6MB)

### Advise Service (LLaVA)
Models should be placed in `artistry-backend/advise/app/` or downloaded via Hugging Face Hub

### Generate Service (Stable Diffusion)
Auto-downloads from Hugging Face on first run

## ğŸ“ Summary

**Total Protected File Size:** ~20+ GB
- Virtual Environments: ~7GB
- Model Weights: ~13GB+
- Node Modules: ~200MB
- Caches & Build Artifacts: ~100MB+

**Repository Clean Size:** ~50MB (source code only)

âœ… Your `.gitignore` is properly configured and protecting your repository!
